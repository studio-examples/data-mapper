# data-mapper #

this example shows how to map JSON to XML and send the content to SFTP server.

Step 1: import and run the app
Step 2: make a POST request using postman to http://localhost:8081 with following JSON:

	{
	  "employees": {
	    "employee": [
	      {
	        "name": "John",
	        "lastName": "Doe",
	        "addresses": {
	          "address": [
	            {
	              "street": "123 Main Street",
	              "zipCode": "111"
	            },
	            {
	              "street": "987 Cypress Avenue",
	              "zipCode": "222"
	            }
	          ]
	        }
	      },
	      {
	        "name": "Jane",
	        "lastName": "Doe",
	        "addresses": {
	          "address": [
	            {
	              "street": "345 Main Street",
	              "zipCode": "111"
	            },
	            {
	              "street": "654 Sunset Boulevard",
	              "zipCode": "333"
	            }
	          ]
	        }
	      }
	    ]
	  }
	}
	
Step 3: verify the uploaded file at:

https://demo.wftpserver.com/main.html

login: demo-user
pass: demo-user

	INFO  2014-07-15 09:12:27,759 [[data-mapper].connector.http.mule.default.receiver.02] org.mule.transport.sftp.SftpMessageDispatcher: Successfully wrote file '5e379df0-0bef-11e4-b08a-5c514f927c90.dat' to sftp://demo-user:****@demo.wftpserver.com:2222/upload

filename is always generated by can be extracted from the log output of studio:
5e379df0-0bef-11e4-b08a-5c514f927c90.dat

or sort by date modify at web page and click to download the file.